---
title: "LDAP/AD Integration"
order: 5
---

Inedo products come with built-in users and groups, but it can also integrate with an external directory service like [Active Directory](#v4-active-directoryldap) and [OpenLDAP and other LDAP-based services](#openldapgeneric-ldap). This allows you to use the organization's existing users, logins, and groups to secure the product and define the tasks users are permitted to do. 

## Built-in Users & Groups

When an Inedo product is first installed, a default administrator username/password (`Admin`/`Admin`) will be created. You should obviously change this password or delete this user once configured the product. You can also disable Built-in User Sign-on completely, which means users will only be able to log-in using their external (i.e. Active Directory/LDAP) credentials.

:::(Warning) (Can't Log-in and Locked Out?)
If you ever get "locked out" of an Inedo product, either due to misconfiguration or a lost password, see [Locked out: Restoring Default Admin Account](/docs/installation/security-ldap-active-directory/various-ldap-troubleshooting#locked-out) to restore the default `Admin`/`Admin` account and reenable Built-in User Sign-on. 
:::

### Built-in Users/Groups in the Database

The users, logins, and groups you create in the product are called "Built-in Users & Groups", and are stored in the product's database (specifically, the `Users`, `Groups`, and `UserGroups` tables). Note that the passwords themselves are not directly stored; instead, passwords are cryptographically hashed/salted (see [OWASP's Password Storage Guidelines](https://cheatsheetseries.owasp.org/cheatsheets/Password_Storage_Cheat_Sheet.html#hashing-vs-encryption)). 


## v4: Active Directory/LDAP

Active Directory and other LDAP installations can be complex, and it's not uncommon for users to integrate our products into a decades-old multi-domain forest with tens of thousands of users. Over the years, we have found better ways to integrate into a variety of configurations. However, because there is a risk of authentication breaking down, we have introduced major changes as a new type of user directory. 

This version is based on [v3](/docs/installation/security-ldap-active-directory/legacyconfigurations/various-ldap-v3-advanced) with additional optimizations, enhanced LDAP filtering, and is bound to a single domain, simplifying LDAP queries. It also includes a new Microsoft Active Directory Group Search Type for improved LDAP query performance and customization, and supports large forests and other LDAP providers.

Task and permission configurations are compatible with both v3 and v4 and allow easy rollback between user directories. This preview feature is included in the InedoCore v2.2.1 extension available in ProGet v2022.20+ and BuildMaster v2022.0+.

See [Advanced Configuration (v4)](/docs/installation/security-ldap-active-directory/various-ldap-v4-advanced) to learn more.

### Windows Integrated Authentication

:::(Error) (ðŸ’€  Microsoft is Discontinuing Windows Integrated Authentication)

Although Microsoft hasn't formally deprecated Windows Integrated Authentication (WIA) yet, it's been removed from their reference architectures and is no longer mentioned on any technology roadmaps. There's also been Windows/platform bugs that have impacted WIA that show a clear lack of regression testing in this area.

Fundamentally, WIA is not technologically compatible with modern environments that incorporate Linux, mobile, load-balancers, and many other technologies on Azure and other cloud services. 

We will do our best to continue supporting WIA in our products, but it's clearly a dead technology with no future. You should move away from WIA.
:::

Administrators can also enable Single-Sign On (i.e. [Windows Integrated Authentication](/docs/installation/security-ldap-active-directory/various-ldap-integrated-authentication)) so that end-users don't have to enter their username/password to use the product.

## OpenLDAP/Generic LDAP

This user directory is based on OpenLDAP, but will work with any LDAP-based directory.  It contains simplified/configurable LDAP queries and is bound to a single directory. It includes many of the LDAP query performance and enhancements that existed in *v4: Active Directory/LDAP*, but does not include the extra Active Directory scanning.

::: (Info)(Note:)
This user directory only exists in ProGet 2024+, BuildMaster 2024+, and Otter 2024+ with InedoCore 3.0.4+ installed.
:::

See [OpenLDAP/Generic LDAP](/docs/installation/security-ldap-active-directory/various-ldap-openldap) to learn more.

## Configuring Multiple Directories / Domains

You can configure as many user directories as you need and enable the directories you want to search. If there are multiple enabled user directories, they will all be used to search for users/groups and verify logins.

For example, if `mycompany.corp` and `trusteddomain.corp` are both configured, and the Built-in User Sign-on is Enabled:

 * If you enter `jdoe` in a search box then you may see:
   * `jdoechestor` (from the Built-in Users)
   * `jdoeson@mycompany.corp`
   * `jdoe@trusteddomain.corp`
   * `jdoedawn@trusteddomain.corp`
 
 * When a user logs in with `jdoe` and `hunter42`
   * the Built-in Users will be used to validate the login, and if that fails...
   * the `mycompany.corp` domain will be used, but if that fails...
   * the `trusteddomain.corp` domain will be used
   * the user will get an "invalid login" error if they all fail

As a result, this behavior may yield to logging of failed logins. The exception to behavior is if the username contains a `@` or `\` symbol, such as `jdoe@mycompany.corp` or `COMPAN\jdoe`. In that case, only the domains that matching that name searched.

## Importing and Exporting Security Configuration
You can import or export users/groups and tasks/permissions as JSON documents. This can be useful for diagnostic purposes, bulk editing or migration of instances.

* To import or export users/groups, navigate to Admin > Manage Security > Built-In Users & Groups and then select either "Export Users & Groups" or "Import Users & Groups".

* For Tasks/Access Rights, navigate to Admin > Manage Security > Tasks/Access Rights, and then select either "Export Tasks" or "Import Tasks".

This feature is available from ProGet 2022, BuildMaster 2022 and Otter 2022.

## Testing User Directories
Testing your configured user directories can be useful when you have advanced configurations or are encountering LDAP connection issues. When using an advanced configuration, it is best practice to test your user directory prior enabling it.

To test your user directories, follow these steps:

1. Go to Administration > Manage Security.
2. Click "Test User Directories" in the upper right corner.
3. Select either "All Active User Directories" (tests all enabled user directories) or the specific user directory (enabled or disabled) that you want to test.

The test options are:
- Test Login: Tests logging in as a specific user.
- Load User by User Name: Loads a user by their username and, optionally, tests if they are a member of a specific group.
- Load Group by Group Name: Loads a group by name.
- Search for Users: Searches for users starting with the entered text.
- Search for Groups: Searches for groups starting with the entered text.

The results of the tests and a debug output from the query will be displayed after running the tests.
