---
title: "Upgrading to BuildMaster 6.1  (2018)"
order: 5
url-slug: "buildmaster-upgrading-to-6-1"
---

<section class="warningBox"><div class="title">Applies to BuildMaster v5 to v6.0 Only</div><div class="content">This document is intended to help you upgrade to BuildMaster 6.1. If you're using v3 or v4, please follow <a href="/docs/buildmaster/installation-maintenance/buildmaster-upgrading/upgrading-from-buildmaster-v3-and-v4" rel="nofollow" translate="no">Upgrading from BuildMaster v3 and v4</a> for upgrade options.</div></section><p>BuildMaster 6.1 is the last stop for <a href="/docs/buildmaster/installation-maintenance/buildmaster-legacy/buildmaster-legacy-features" rel="nofollow" translate="no">BuildMaster's Legacy Features</a>, as they were all removed in BuildMaster 6.2. While we plan to support BuildMaster 6.1 for the foreseeable future, we will retire support for older versions. &nbsp;</p><h2>Change Summary</h2><p>The following table summarizes all of the changes introduced in v6.0 and v6.1.</p><section class="infoBox"><div class="content">If you're upgrading from v5, please note that all custom extensions must be recompiled and you will need to take care in upgrading extensions</div></section><table border="1" cellpadding="2" cellspacing="0" width="700"><tbody><tr><td valign="top">BuildMaster 6.0</td><td valign="top"><ul><li style="box-sizing: border-box;">.NET 4.5.2+ is required (previous installations required v4.5.0+) (<span class="red" style="box-sizing: border-box;">major configuration change</span>)</li><li style="box-sizing: border-box;">SQL Server 2008 or higher is required for new installations (<span class="red" style="box-sizing: border-box;">major configuration change</span>)</li><li style="box-sizing: border-box;">Free Edition now offers unlimited users, but all users are full administrators (<span class="red" style="box-sizing: border-box;">major configuration change</span>)</li><li style="box-sizing: border-box;">Support for multiple license keys has been removed in favor of a single license key (major configuration change)</li><li style="box-sizing: border-box;">Environment assignments to Resource Credentials are enforced during plan execution (<span class="red" style="box-sizing: border-box;">major configuration change</span>)</li><li style="box-sizing: border-box;">Legacy plan action-operation converters in extensions are removed</li><li style="box-sizing: border-box;">Existing custom extensions must be recompiled with the latest SDK after upgrading to Inedo.BuildMaster.SDK v6; see Upgrading extensions (major configuration change)</li><li style="box-sizing: border-box;">Legacy features are now hidden by configuration (<span class="red" style="box-sizing: border-box;">major configuration change</span>)</li><li style="box-sizing: border-box;">Deployment plan templates are renamed to Modules</li><li style="box-sizing: border-box;">New UI styling that should still be familiar to v5 users</li><li style="box-sizing: border-box;">Application import &amp; export (<span class="green" style="box-sizing: border-box;">new feature</span>)</li><li style="box-sizing: border-box;">Support for Inedo SDK (new feature)</li><li style="box-sizing: border-box;">Native API endpoints that were deprecated in v5 have been removed</li></ul></td></tr><tr><td valign="top">BuildMaster 6.1</td><td valign="top"><ul><li>Add Git repository monitors and hooks (<span class="green">new feature</span>)</li><li>Add variable value renderers (<span class="green">new feature</span>)</li><li>Add CI Badge API (<span class="green">new feature</span>)&nbsp;</li><li>Add opt-in Loupe integration (<span class="green">new feature</span>)<a href="#ceip"></a></li><li>Rename "release packages" to "builds" (<span class="red">major UI change</span>)<a href="#builds"></a></li><li>Change to Legacy BuildMaster SDK</li></ul></td></tr></tbody></table><h2 id="upgrade-process">Upgrade Process</h2><p>You can only upgrade from BuildMaster v5 or BuildMaster v6.1. To upgrade from one of these versions:</p><ol><li>Download and run the Inedo Hub from <a href="https://my.inedo.com/downloads">my.inedo.com/downloads</a> or use the latest <a href="https://my.inedo.com/buildmaster/versions#v6.1">traditional installer</a></li><li>Remove old (5.x) extensions as appropriate<ul><li>Reasons why you need to remove extensions:<ul><li>If the extension shows an error message, stating it failed to load for any reason. Remove it and reinstall {ExtensionName}Legacy or {ExtensionName}.</li><li>If the extension shows a higher installed version than the available version. Remove it and reinstall {ExtensionName}Legacy or {ExtensionName}.</li></ul></li><li>See <a href="#upgrading-extensions">upgrading extensions</a> for more information.</li></ul></li><li>Install the 6.1 extensions</li></ol><h4 id="risk-mitigation">Risk Mitigation</h4><p>Although the risks vary depending on the version you're upgrading from, you should take the following precautions to avoid downtime:</p><ul><li>Make sure your BuildMaster database has been backed up before upgrading</li><li>Make sure your Encryption Key is backed up before upgrading</li><li>Ensure that the installation's \Extensions directory is backed up before upgrading</li></ul><h4 id="rollback">Rollback</h4><p>Because there are database changes, a roll back will require uninstalling BuildMaster, and then <a href="/docs/installation/backing-up-restoring">restoring your BuildMaster instance</a>.</p><h3 id="upgrading-extensions">Upgrading Extensions</h3><p>Extensions in BuildMaster v6 can now be compiled against the <a href="/docs/inedosdk">Inedo.SDK</a>. This also means that existing extensions need to be recompiled against the Inedo.BuildMaster.SDK 6.0, or if no legacy features are used, the latest Inedo.SDK package from NuGet. If the intent is to upgrade to v6.2, the Inedo.SDK must be referenced as the Inedo.BuildMaster.SDK will be removed.</p><section class="errorBox"><div class="content"><p class="attention technical">Because of this, <strong>&nbsp;customers that still use any legacy plans, build importers, source control providers, or issue tracking providers must download the {ExtensionName}Legacy extension in addition to the {ExtensionName} extension counterpart</strong>. The complete list of available legacy extensions is here:</p></div></section><ul><li>TFSLegacy</li><li>JiraLegacy</li><li>TeamCityLegacy</li><li>MercurialLegacy</li><li>JenkinsLegacy</li><li>FTPLegacy</li><li>AzureLegacy</li><li>AmazonLegacy</li><li>YouTrackLegacy</li><li>NuGetLegacy</li><li>WindowsLegacy</li><li>InedoCoreLegacy</li></ul><p>Any {ExtensionName}Legacy extensions will be removed in v6.2.</p><h4>Which NuGet Package Should I Choose?</h4><p>Extensions that implement legacy features (e.g. legacy plan actions, source control providers, issue tracker connections, database connections) must use v6 of the Inedo.BuildMaster.SDK. Database calls (i.e. <code>DB.</code>) or references to strongly-typed tables names (i.e. <code>Tables.</code>) are also not available in the Inedo.SDK since it is shared between multiple products. Support for shared/common objects (e.g. servers, roles) is supported via the <a href="https://sdkdocs.inedo.com/sdk/inedosdk/inedo/sdk"><code>SDK</code> class</a>.</p><p>If no legacy features are used and no specific database calls are required, the extension should use the latest Inedo.SDK NuGet package. The complete list of Inedo.SDK supported classes can be found in the <a href="/docs/inedosdk">Inedo SDK Reference</a>.</p><h4>Upgrading Extensions</h4><p>Upgrading a pre-v6 extension (whether using the Inedo.BuildMaster.SDK or Inedo.SDK) requires the following:</p><ul><li>The target framework must be set to .NET 4.5.2 at a minimum</li><li>For Inedo.BuildMaster.SDK: Upgrade the SDK NuGet package to v6.0.0 (this will also install Inedo.SDK as a dependency)</li><li>For Inedo.BuildMaster.SDK or Inedo.SDK: Upgrade the Inedo.SDK to the latest version</li><li>NuGet will automatically reference the following packages, ensure they are set to <strong>CopyLocal=false</strong> and <strong>SpecificVersion=false</strong>in the project properties:<ul><li><code>BuildMaster.Web.Controls</code><em>(Inedo.BuildMaster.SDK only)</em></li><li><code>BuildMasterCore</code><em>(Inedo.BuildMaster.SDK only)</em></li><li><code>Inedo.Agents.Client</code></li><li><code>Inedo.ExecutionEngine</code></li><li><code>Inedo.SDK</code></li><li><code>InedoLib</code></li></ul></li><li>To resolve most compiler errors that you will receive on NuGet package upgrade, the <kbd>ALT</kbd>+<kbd>SHIFT</kbd>+<kbd>F10</kbd> keyboard shortcut that brings up the Light Bulb will quickly apply the appropriate <code>using</code> statements</li></ul><h5><span style="color: rgb(184, 49, 47);">Class &amp; Namespace Changes</span></h5><ul><li><code class="type">PromotionContext</code> no longer implements <code class="type">IGenericBuildMasterContext</code>. While never documented as doing so, explicit casts to this interface must be removed</li><li>All helper classes marked with <code class="type">System.ObsoleteAttribute</code> in the pre-v6 SDK have been removed in v6. Most replacements to <code>InedoLib.</code><code class="type">Util.</code> are found in <code>InedoLib.</code><code class="type">AH</code></li><li><code>ILogger.Log()</code> extensions (e.g. <code>LogDebug</code>, <code>LogError</code>) accepted a format string in v4.X which was deprecated in v5.0, and now removed in v6.0; use <code class="keyword">string</code><code>.Format()</code> inside the <code>Log()</code> call instead</li></ul><table><thead><tr><th>Pre-v6 Type Name</th><th>v6 Replacement</th></tr></thead><tbody><tr><td><code class="type">PromotionRequirementBase</code></td><td><code>Inedo.Extensibility.PromotionRequirements.</code><code class="type">PromotionRequirement</code></td></tr><tr><td><code class="type">PromotionRequirementEditorBase</code></td><td><code>Inedo.Extensibility.PromotionRequirements.</code><code class="type">PromotionRequirementEditor</code></td></tr><tr><td><code class="type">DeprecatedInBuildMasterVersionAttribute</code></td><td><code>System.</code><code class="type">ObsoleteAttribute</code></td></tr><tr><td><code>Util.</code><code class="type">Agents</code></td><td>Use <code>context.GetAgent()</code> instead</td></tr><tr><td><code>Util.</code><code class="type">Artifacts</code></td><td>Use <code class="type">Artifact</code> class</td></tr><tr><td><code class="type">SourceControlFileFolderPicker</code></td><td><code>Inedo.Web.</code><code class="type">ScmBrowserTextBox</code> or <code>Inedo.Web.</code><code class="type">FileBrowserTextBox</code></td></tr><tr><td><code>Inedo.BuildMaster.</code><code class="type">OtterScriptSymbolComparer</code></td><td><code>Inedo.ExecutionEngine.</code><code class="type">OtterScriptSymbolComparer</code></td></tr><tr><td><code>Inedo.BuildMaster.Mapping.</code><code class="type">ICustomArgumentMapper</code></td><td><code>Inedo.ExecutionEngine.Mapping.</code><code class="type">ICustomArgumentMapper</code></td></tr><tr><td><code>Inedo.BuildMaster.IssueTrackerConnections.</code><code class="type">IssueSources</code></td><td><code>Inedo.Extensibility.</code><code class="type">IssueSources</code></td></tr><tr><td><code>Inedo.BuildMaster.IssueTrackerConnections.</code><code class="type">IIssueTrackerIssue</code></td><td><code>Inedo.Extensibility.</code><code class="type">IIssueTrackerIssue</code></td></tr><tr><td><code class="type">SuggestibleValue</code></td><td><code>Inedo.Web.</code><code class="type">SuggestableValue</code> (note the spelling change)</td></tr><tr><td><code>InedoLib.Util.WriteJson(<code class="type">TextWriter</code>, <code class="keyword">object</code>)</code></td><td><code>Newtonsoft.Json.JsonSerializer.CreateDefault().Serialize(<code class="type">TextWriter</code>, <code class="keyword">object</code>)</code></td></tr></tbody></table><h4 id="sdk">Legacy SDK Change in BuildMaster 6.1</h4><p>There is one possible breaking change between v6.0 and v6.1 of the BuildMaster SDK: <code>Execution<u>s</u>FailedEvent</code> was renamed to <code>ExecutionFailedEvent</code>. In the unlikely event that this event code was consumed by an extension, it must be updated to drop the "<code>s</code>", and reference the newly added <code>ExecutionId</code> event detail.</p><section class="infoBox"><div class="title">Note:</div><div class="content">The Inedo SDK (available since v6.0) is not affected, and extensions built against it do not require updates. However, the Inedo.SDK v1.1 version is <a href="https://www.nuget.org/packages/Inedo.SDK/" rel="noopener noreferrer" target="_blank">available from NuGet</a> going forward.</div></section><h2>BuildMaster 6.1 Change Details</h2><h3 id="credentials">BuildMaster 6.1 Behavior Change: Resource Credentials' Environment Usage</h3><p>In this version, when a Resource Credential is assigned to an environment, all deployment targets that reference the credential must be associated with that environment, otherwise a runtime error occurs.</p><h3 id="legacy">BuildMaster 6.1 Behavior Change: Hiding Legacy Features</h3><p>In this version, legacy features are hidden from the UI unless configured to be shown on the Advanced Settings page via the <strong>Legacy.{FeatureName}</strong> settings. In this version, legacy features are hidden from UI unless configured to be shown on the Advanced Settings page via the Legacy.{FeatureName} settings. Also, the configuration values are automatically set when you access the Administration dashboard &gt; Legacy Features and run the detection mechanism.</p><h3 id="licensing">BuildMaster 6.1 Free Edition Licensing Changes</h3><p>Prior to version 6.0, BuildMaster Free included 5 users, 10 applications, and 5 servers. As of v6.0, BuildMaster Free is now unlimited in terms of users, applications, and servers, but all anonymous users are granted "view-only" privileges, and all authenticated users act as full administrators (i.e. all users have all privileges granted to them, and restrictions are ignored).</p><section class="errorBox"><div class="title">Important:</div><div class="content"><p class="attention technical">Free Edition users who make their instance available to the Internet should be aware that this change will turn their BuildMaster instance into a public instance where applications, releases, and execution data can be viewed by any user with access to the web application.</p></div></section><p>Existing free users who are negatively affected by this change can use the contact form to have a new key sent to them, which will effectively be a 5-user key with no server or application restrictions.</p><h4 id="license-keys">BuildMaster 6.1 Multiple License Key Support Removed</h4><section class="errorBox"><div class="title">Important:</div><div class="content">Make a note of your current license key before upgrading in case the last license key you added does not match the one you are currently using.</div></section><p>Multiple license key support is removed in this version. When upgrading, BuildMaster will use the most recently added and activated license key as the single license key, and references to all others will be removed. If the wrong key is selected as the only key, you will need to log into <a href="https://my.inedo.com">MyInedo</a> if you have not made a note of the current key.&nbsp;</p><h3 id="builds">BuildMaster 6.1 Feature: Rename "Release Packages" to "Builds"</h3><p>This is effectively a UI-only change. While API arguments or properties that reference packages should be considered deprecated, any non-native endpoint that references them (e.g. <code>/packages/deploy</code>, <code>packageId</code> or <code>packageNumber</code>) will still accept and return those properties. In the future, <code>buildId</code> and <code>buildNumber</code> should be used.</p><p>Compatibility with the Native API may break in this case, however, most endpoints referenced builds originally.</p><p>For a word from Inedo's founder on the reasoning behind this change, check out his latest <a href="https://blog.inedo.com/blog/getting-back-to-builds" rel="noopener noreferrer" target="_blank">blog article</a>.</p><h4 id="ci">BuildMaster 6.1 Feature: Repository Monitors &amp; Hooks</h4><p>Support for monitoring Git repository changes at custom intervals and custom plans to be executed as soon as they are detected, providing far more than was possible in the existing legacy build triggers. In addition, support for accepting incoming webhook events from GitHub and GitLab has been added. See the <a href="/docs/buildmaster/builds-continuous-integration/buildmaster-builds#continuous-integration" rel="noopener noreferrer" target="_blank">documentation</a> for more information, examples, and the <a href="https://github.com/inedo/inedox-git/wiki" rel="noopener noreferrer" target="_blank">Git extension wiki</a> for hook configuration of a specific host.</p><h4 id="variable-value-renderers">BuildMaster 6.1 Feature: Custom Variable Value Rendering</h4><p>Support for rendering a release or build configuration variable with custom HTML. See the <a href="/docs/buildmaster/otterscript-execution-engine/buildmaster-variables#value-renderers" rel="noopener noreferrer" target="_blank">documentation</a> for more information and examples.</p><h4 id="badges">BuildMaster 6.1 Feature: CI Badges</h4><p>Support for generating CI badges and links using the CI Badge API. See the <a href="/docs/buildmaster/reference/api/buildmaster-ci-cd-continuous-integration-server-badges" rel="noopener noreferrer" target="_blank">API documentation</a> for more information and examples.</p><h4 id="ceip">BuildMaster 6.1 Feature: Customer Experience &amp; Improvement Program</h4><p>Inedo has partnered with Gibraltar Software to integrate Loupe into our products as part of our customer success initiative. This program is known as the Customer Experience Improvement Program (CEIP) and provides several benefits to both Inedo and our customers.</p><p>This feature is disabled by default in all existing and new installations. Visit the <a href="/docs/installation/logging/various-ceip-overview" rel="noopener noreferrer" target="_blank">documentation</a> to learn how to opt-in and more about what kind of data is collected and how Inedo uses it.</p>
