---
title: "PyPI (Python)"
order: 13
---

The Python Package Index ([PyPI](https://pypi.org/)) is the main repository for software and libraries written in the Python programming language. Since version 5.2, ProGet supports the creation of PyPI feeds to host and deploy custom Python software packages.

ProGet's ["Feeds"](/docs/proget/feeds/feed-overview) can act as PyPI repositories that let you centralize your package management and keep a handle on which packages your organization uses. Along with [publishing and hosting your private PyPI packages](/docs/proget/feeds/pypi/howto-pypi-publish), ProGet also acts as a [proxy for public PyPI repositories](/docs/proget/feeds/pypi/howto-pypi-proxy), allowing you to cache and manage dependencies pulled from [PyPI](https://pypi.org/).

## Prerequisites

In order to create, publish and install PyPI packages from ProGet, you need:
* [Python](https://www.python.org/downloads/) installed  (confirm installation with `python --version` )
* pip installed (Confirm installation with pip `--version`)
* `setuptools` installed by running:

```bash
$ pip install setuptools wheel
```

## Adding a PyPI Feed as a Source

To use your PyPI feed when installing packages you can either include it when running the `pip install` command, or set it globally with the `pip config` command. 

### Using `pip install` With a URL Parameter

To install PyPI packages with the URL in the `pip install` command, you will need to add a `--extra-index-url` parameter containing your feed endpoint URL:

```bash
$ pip install «package-name»==«package-version» --extra-index-url https://«proget-server»/pypi/«feed-name»/simple
```

For example, if you are installing `Flask 2.3.3` from a ProGet feed with the endpoint `https://proget.corp.local/pypi/approved-pypi/simple`, your command would look like this:

```bash
$ pip install flask==2.3.3 --extra-index-url proget.corp.local -i https://proget.corp.local/pypi/approved-pypi/simple
```

### Using a pip Config

To configure pip to use a [pip config](https://pip.pypa.io/en/stable/topics/configuration/) file to store the feed, you will need to use the [pip config](https://pip.pypa.io/en/stable/cli/pip_config/) command with a `--global` parameter containing your feed endpoint URL.

```bash
$ pip config --global set global.index-url https://«proget-server»/pypi/«feed-name»/simple 
```

For example, to globally set a PyPI feed with the endpoint `https://proget.corp.local/pypi/internal-pypi/simple` you would enter:

```bash
$ pip config --global set global.index-url https://proget.corp.local/pypi/internal-pypi/simple 
```

These commands will generate a pip config file that looks like:

```bash
[global]
index-url = https://proget.corp.local/pypi/internal-pypi/simple 
```

::: (Info) (Note: Scoping)
The `pip config` can be scoped to global (`--global`), user (`--user`), and to the environment (`--site`). The commands above are scoped to the global scope.
:::

### Authenticating to a PyPI Feed

If you've configured your feed to require authentication, you can use the two `pip` methods above to authenticate to it. Feeds can be authenticated with a username and password string `«username»:«password»` but we strongly recommend using an API key for this, with `api` as the username, and then API Key as the password. You can read more about creating one on our [API Key](/docs/proget/reference-api/proget-apikeys) page. 

#### Using `pip install`

To pass basic authentication along with the URL in the `pip install` command, you will need to add a `--trusted-host` parameter containing your ProGet host and insert either a username and password or API Key into the beginning of your URL. The `pip install` command would look like this:

```bash
$ pip install «package-name»==«package-version» --trusted-host «proget-server» -i https://«username»:«password»@«proget-server»/pypi/«feed-name»/simple 
```

If you are using an API key, you will need to use `api` for the username and your API key (e.g. `apikey12345`) as the password:

```bash
$ pip install flask==2.3.3 --trusted-host proget.corp.local -i https://api:apikey12345@proget.corp.local/pypi/approved-pypi/simple
```

#### Using `pip config`

To use a [pip config](https://pip.pypa.io/en/stable/topics/configuration/) file to store the authenticated feed, run the `pip config` command:

```bash
$ pip config --global set global.index-url https://«username»:«password»@«proget-server»/pypi/«feed-name»/simple 
$ pip config --global set global.trusted-host «proget-server»
```

These commands will generate a pip config file that looks like:

```bash
[global]
index-url = https://«username»:«password»@«proget-server»/pypi/«feed-name»/simple 
trusted-host = «proget-server»
```

## Installing Packages

PyPI packages are installed using [pip](https://pip.pypa.io). To install a package from a ProGet feed, use the `pip install` command:

```bash
$ pip install «package-name»==«package-version» -i http://«proget-server»/pypi/«feed-name»/simple 
```

## Creating Packages

To learn how to create a package that can be hosted by ProGet, visit the [Packaging Python Projects tutorial](https://packaging.python.org/tutorials/packaging-projects/). 

:::(warn)(Feed Endpoint URL)
Note that the feed endpoint URLs used when pushing packages vary slightly from the standard feed URL, ending with `/legacy` rather than `/simple`
:::

The cases below use usernames and passwords to authenticate. To use an API key, you will need to use `api` for the username and the API key as the password.

## Publishing PyPI Packages

PyPI packages are pushed to ProGet using [twine](https://pypi.org/project/twine/). To push a package to a ProGet feed, use the `twine upload` command:

```bash
$ twine upload -u «username» -p «password» --repository-url http://«proget-server»/pypi/«feed-name»/legacy <dist>
```

### Using .pypirc to Publish Packages

You can also set your PyPI feed globally to publish packages to by editing the `.pypirc` file located in `~\Users\«user»\` as follows:

```bash
[distutils] 
index-servers = proget 

[proget] 
repository = http://«proget-server»/pypi/«feed-name»/legacy
username = «username» 
password = «password»
```

For a more detailed guide on creating and publishing your own PyPI packages you can read [HOWTO: Publish PyPI Packages to a Private Repository in ProGet](/docs/proget/feeds/pypi/howto-pypi-publish)

## Technical Limitations

### ProGet 2024

#### Connectors
Most PyPI repositories do not provide a user interface and are not designed to be searched or browsed, which makes their display in ProGet challenging. Specifically:

Package Searching

 * PyPI repositories do not support searching.  However, you can still navigate to a specific package page by typing the exact name in the search box.
 * When possible, ProGet displays a default list of packages in a feed sorted by download count. For PyPI connectors, ProGet instead uses the RSS feed which is provided by PyPI.org to expose the latest package uploads.

Non-PyPI.org repositories

 * PyPI.org implements a JSON API that provides some extra metadata for packages (such as a readme file), but most other repositories do not have this
 * Very basic information can be browsed in the ProGet UI if you know the exact name of the package, but this should primarily be used as a proxy instead of browsed directly
 * You may need to use the "Advanced" tab of the connector to specify an alternative `/simple` path; for example, if you try to connect to `https://download.pytorch.org/whl/cu124` without specifying this, you will receive `403` errors; changing the simple path to `/` will resolve this

### ProGet 2023
 * ProGet only supports searching package name and summary fields via the XML-RPC API (implemented by PyPI.org), other use cases of this API are not supported by ProGet
 * Connectors to other PyPI feeds require the PyPI JSON API to be implemented (both ProGet and PyPI.org support this)
 * Package names are generally normalized (as per the [PEP503 specs](https://www.python.org/dev/peps/pep-0503)), but packages where versions only differ by `-` and `_` (e.g. `my-package 1.0` and `my_package 1.1`) aren't properly listed under `my-package`. In addition, UI-based searching does not treat `_` and `-` the same
 
If these limitations are more than minor inconveniences, [please let us know](https://forums.inedo.com/) so we can figure out how to fix them.
